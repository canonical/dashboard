<tr
  class="
    condition
    {{ condition.get_status_display }}
  "
>
  <td>
    <input type="checkbox" autocomplete="off"
      {% if condition.status == 'DO' %} checked {% endif %}
      {% if not perms.projects.change_commitment %}
        disabled
      {% else %}
        data-testid="toggle_condition_{{ condition.id }}"
        hx-put="{% url 'projects:action_toggle_condition' condition.id %}{% querystring status=condition.status target='done' %}"
        hx-target="closest tr"
        hx-swap="outerHTML"
        hx-on:htmx:before-request="this.disabled = true"
      {% endif %}
      />
  </td>

  <td class="condition name">
    {{ condition.name|safe }}
    <div class="attributes">
      <span
        {% if not perms.projects.change_projectobjectivecondition %}
          class="condition not-applicable"
        {% else %}
          class="condition not-applicable has-perms"
        hx-put="{% url 'projects:action_toggle_condition' condition.id %}{% querystring status=condition.status target='not-applicable' %}"
          hx-target="closest tr"
          hx-swap="outerHTML"
        {% endif %}>na</span>
      <span
        {% if not perms.projects.change_projectobjectivecondition %}
          class="condition candidate"
        {% else %}
          class="condition candidate has-perms"
        hx-put="{% url 'projects:action_toggle_condition' condition.id %}{% querystring status=condition.status target='candidate' %}"
          hx-target="closest tr"
          hx-swap="outerHTML"
      {% endif %}>candidate</span>
  </div>
  </td>

  <td class="commitment-blank" colspan="{{ workcycle_count }}"></td>
</tr>
